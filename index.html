<!doctype html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
		/>
		<title>Work KG</title>

		<!-- Подключаем скрипт ТГ первым делом -->
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script src="https://cdn.tailwindcss.com"></script>

		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
			rel="stylesheet"
		/>

		<style>
			:root {
				/* Эти переменные будут перетерты скриптом Telegram WebApp */
				--tg-bg-color: #ffffff;
				--tg-secondary-bg-color: #f4f4f5;
				--tg-text-color: #000000;
				--tg-hint-color: #71717a;

				/* Динамические отступы (Safe Areas) */
				--sat: env(safe-area-inset-top);
				--sab: env(safe-area-inset-bottom);
				--sar: env(safe-area-inset-right);
				--sal: env(safe-area-inset-left);
			}

			* {
				box-sizing: border-box;
				/* Убираем синее выделение при нажатии на мобилках */
				-webkit-tap-highlight-color: transparent;
			}

			body {
				font-family: 'Inter', sans-serif;
				background-color: var(--tg-bg-color);
				color: var(--tg-text-color);
				margin: 0;
				padding: 0;
				width: 100%;
				min-height: 100vh;

				/* Делаем как в нативном приложении */
				overflow-x: hidden;
				-webkit-user-select: none; /* Запрет выделения текста */
				user-select: none;

				/* Блокируем стандартный скролл-эффект "оттягивания" всей страницы */
				overscroll-behavior-y: none;
			}

			/* Классы для использования темы */
			.bg-main {
				background-color: var(--tg-bg-color);
			}
			.bg-secondary {
				background-color: var(--tg-secondary-bg-color);
			}
			.text-main {
				color: var(--tg-text-color);
			}
			.text-hint {
				color: var(--tg-hint-color);
			}

			/* Нативная прокрутка внутри блоков */
			.ios-scroll {
				-webkit-overflow-scrolling: touch;
				overflow-y: auto;
			}

			.no-scrollbar::-webkit-scrollbar {
				display: none;
			}
			.no-scrollbar {
				-ms-overflow-style: none;
				scrollbar-width: none;
			}

			.brand-gradient {
				background: linear-gradient(135deg, #111111 0%, #b91c1c 100%);
			}

			/* Анимация Apple-style */
			.active-scale:active {
				transform: scale(0.97);
				transition: transform 0.1s ease-out;
			}

			/* Хелперы для безопасных зон (используй их в верстке) */
			.pt-safe {
				padding-top: var(--sat);
			}
			.pb-safe {
				padding-bottom: var(--sab);
			}

			/* Фикс для клавиатуры (чтобы контент не прыгал) */
			#root {
				display: flex;
				flex-direction: column;
				min-height: 100vh;
			}
		</style>
	</head>

	<!-- Важно: убрал bg-slate-50, чтобы не перебивать тему ТГ -->
	<body class="antialiased transition-colors duration-200">
		<div id="root"></div>

		<script type="module" src="/index.tsx"></script>

		<script>
			// Небольшой хак для моментальной синхронизации темы
			const tg = window.Telegram.WebApp
			tg.ready()
			tg.expand()

			// Если ТГ поддерживает установку цвета заголовка (v6.1+)
			if (tg.setHeaderColor) {
				tg.setHeaderColor('secondary_bg_color')
			}
		</script>
	</body>
</html>
